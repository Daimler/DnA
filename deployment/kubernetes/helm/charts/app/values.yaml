# Default values for app.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

appName: dna
namespace: dna
imagePullSecret: 
  name: harbor-pull-secret
  key: "" 
cert:
  certManager: acme
replicaCount: 1

traefik:
  image: ""

ingress:
  namespace: ingress
  host: ""
  lbIP: ""

app:
  backend:
    replicaCount: 1
    image: backend:latest
    secrets: 
      name: app-secrets
      notebooksecrettoken: ""
      oidcclientid: ""
      oidcclientsecret: ""
      drdcertpassword: ""
      jwtsecretkey: ""
      s3accesskey: ""
      s3secretkey: ""
      dataikuprodapikey: ""
      dataikutrainingapikey: ""
      avscanapikey: ""
    config:
      enableItsmm: false
      enableJupyterNotebook: false
      enableDataiku: false
      enableAttachmentScan: false
      enableInternalUser: false
      redirectUrl: ""
      dbUri: jdbc:postgresql://postgresql:64000/db
      oidcuserinfourl: ""
      oidctokenintrospectionurl: ""
      oidcprovider: INTERNAL
      oidctokenrevocationurl: ""
      internaluserrequesturl: ""
      internalcertfile: ""
      oidcdisabled: true
      s3bucketname: ""
      s3epurl: ""
      corosoriginurl: ""
      jupyternotebookurl: ""
      vaulthost: vault.vault.svc.cluster.local
      vaultport: 8200
      dataikuproduri: ""
      dataikutraininguri: ""
      avscanappid: ""
      naasbroker: broker01.kafka.svc.cluster.local:8001
      loggingEnvironment: dev
      loggingPath: /tmp/app/log
      dataikuProjectUri: /projects/
      avscanuri: ""

  frontend:
    replicaCount: 1
    image: frontend
    config: 
      oidcdisabled: true
      oidcprovider: INTERNAL
      apibaseurl: api
      jupyternotebookurl: ""
      jupyternotebookoidcpopupurl: ""
      dataikuliveappurl: ""
      dataikutrainingappurl: ""
      oauth2tokenurl: ""
      oauth2authurl: ""
      oauth2revokeurl: ""
      oauth2logouturl: ""
      oauth2introspectionurl: ""
      oauth2userinfourl: ""
      redirecturls: ""
      dnaswaggeruiurl: ""
      dataikuferreturl: ""
      mlpipelineurl: ""
      dnaappnameheader: ""
      dnaappnamehome: ""
      dnacontactushtml: <div><p>There could be many places where you may need our help, and we are happy to support you. <br /> Please add your communication channels links here</p></div>
      dnabrandlogourl: /images/branding/logo-brand.png
      dnaapplogourl: /images/branding/logo-app.png
      enableinternaluserinfo: true
      enabledatacompliance: true
      enabledreports: false
      enablejupyterworkspace: false
      enabledataikuworkspace: false
      enablemalwareservice: false
      enabledatapipelinservice: false
      enablepipelinservice: false
      enabledmlpipelineservice: false
      enablemalwareapiinfo: false
      enablenotification: false
      dnacompanyname: XYZ
      
  ngnixconf:
    jupyserver: http://proxy-public:8000
    grafanaserver: http://i3-monitoring-grafana.i3-monitoring.svc.cluster.local:80
    avscanserver: http://clamav-rest-service.clamav.svc.cluster.local:8181
    avscanmgwserver: http://microgateway.clamav.svc.cluster.local:80
    airflowserver: http://airflow.airflow.svc.cluster.local:8080
    naasserver: http://naas-backend-service.naas.svc.cluster.local:7272
    dashboard: http://dashboard-backend-service.dashboard.svc.cluster.local:7173

  db: 
    replicaCount: 1
    image: postgresql:10.3-2.1.0
    pgssl: "NO"
    dbname: db
    secrets: 
      name: postgres-secrets
      backupUserName: ""
      backupUserPassword: ""
      dbAdminUserName: ""
      dbAdminPassword: ""
      patroniUserPassword: ""
      appUserName: ""
      appPassword: ""
    airflowDB:
      airflowUserName: ""
      airflowdbName: ""
      airflowdbPwd: ""
    dashboardDB:
      dashboardUserName: ""
      dashboarddbName: ""
      dashboarddbPwd: ""
    
  vault:
    secret:
      name: vault-secrets
      rootToken: ""

bitnamipostgresql:
  enabled: false
